#  For Google App Engine deployment, copy this file to app.yaml
#  and edit as required
#  See http://code.google.com/appengine/docs/python/config/appconfig.html
#  and http://web2py.com/book/default/chapter/11?search=app.yaml

application: cambeotrunk
version: 1

module: back
instance_class: B8
#manual_scaling:
#  instances: 1
basic_scaling:
  max_instances: 1
  idle_timeout: 10m

#module: default
#instance_class: F2
#automatic_scaling:
#  max_idle_instances: 1
#  min_pending_latency: 2.0s
#  max_pending_latency: 7.0s
#  max_concurrent_requests: 20

api_version: 1
runtime: python27
threadsafe: true    # true for WSGI & concurrent requests (Python 2.7 only)

default_expiration: "24h"   # for static files

handlers:

# Warning! Static mapping - below - isn't compatible with 
# the parametric router's language logic. 
# You cannot use them together.

- url: /(.+?)/static/_\d.\d.\d\/(.+)
  static_files: applications/\1/static/\2
  upload: applications/(.+?)/static/(.+)
  secure: optional
  expiration: "365d"

- url: /(.+?)/static/(.+)
  static_files: applications/\1/static/\2
  upload: applications/(.+?)/static/(.+)
  secure: optional

- url: /favicon.ico
  static_files: applications/app/static/favicon.ico
  upload: applications/app/static/favicon.ico

- url: /robots.txt
  static_files: applications/app/static/robots.txt
  upload: applications/app/static/robots.txt

- url: .*
  script: gaehandler.wsgiapp    # WSGI (Python 2.7 only)
  secure: optional

admin_console:
  pages:
  - name: Appstats
    url: /_ah/stats

builtins:
- remote_api: on
- appstats: on
- admin_redirect: on

libraries:
- name: lxml
  version: 2.3.5